server:
  port: 7070

---
spring:
  profiles: dev

eureka:
  client:
    service-url:
      defaultZone: http://localhost:8761/eureka/

zuul:
  routes:
    users-test:
      path: /test/**
      serviceId: api-test
      stripPrefix: false
    oauth:
      path: /uua/**
      serviceId: oauth2
#      sensitive-headers: Authorization,Cookie,Set-Cookie
#      sensitiveHeaders: Access-Control-Allow-Origin
      sensitiveHeaders:
#      ignoredHeaders: Access-Control-Allow-Origin
#      sensitiveHeader: Access-Control-Allow-Origin, Access-Control-Allow-Methods
      stripPrefix: false
    advertising:
      path: /advertising/**
#      url: http://localhost:6767/
      serviceId: cas-ads
      stripPrefix: false
    schools:
      path: /schools/**
#      url: http://localhost:6767/
      serviceId: cas-schools
      stripPrefix: false
    dicts: # dicts and sys-dicts
      path: /dicts/**
#      url: http://localhost:6767/
      serviceId: cas-dicts
      stripPrefix: false
    users: # user role group
      path: /users/**
#      url: http://localhost:6767/
      serviceId: cas-users
      stripPrefix: false
    roles:
      path: /roles/**
#      url: http://localhost:6767/
      serviceId: cas-roles
      stripPrefix: false
    classes: # class and arrangement
      path: /classes/**
      serviceId: cas-classes
      stripPrefix: false
    courses:
      path: /courses/**
      serviceId: cas-courses
      stripPrefix: false
    todos:
      path: /todos/**
      serviceId: cas-todos
      stripPrefix: false
    announcements:
      path: /announcements/**
      serviceId: cas-announcements
      stripPrefix: false
    payments:
      path: /payments/**
      serviceId: cas-payments
      stripPrefix: false
    logs: # audit log, operation log, payment log etc.
      path: /payments/**
      serviceId: cas-payments
      stripPrefix: false
    assets:
      path: /assets/**
#      url: http://localhost:6767/
      serviceId: cas-assets
      stripPrefix: false

  prefix: /api
  whitelist: /health_check,/uua/v*/login,/uua/v*/baseinfo,/uua/v*/oauth/token,/uua/v*/oauth/authorize,/uua/v*/oauth/confirm_access

security:
  oauth2:
    client:
      accessTokenUri: http://localhost:9191/uua/v1/oauth/token
      userAuthorizationUri: http://localhost:9191/uua/v1/oauth/authorize
      clientId: base_course_app
      clientSecret: secret
      client-authentication-scheme: header
    resource:
      userInfoUri: http://localhost:9191/uua/v1/user
#      preferTokenInfo: false
      filter-order: 3
#  sessions: ALWAYS
#  headers:
#    frame: true

---
spring:
  profiles: docker

eureka:
  client:
    service-url:
      defaultZone: http://10.16.156.36:8761/eureka/
  instance:
    prefer-ip-address: true
#    ip-address:

zuul:
  routes:
    users-test:
      path: /test/**
      serviceId: api-test
      stripPrefix: false
    oauth:
      path: /uua/**
      serviceId: oauth2
#      sensitive-headers: Authorization,Cookie,Set-Cookie
      sensitiveHeaders:
      stripPrefix: false
    advertising:
      path: /advertising/**
#      url: http://localhost:6767/
      serviceId: cas-ads
      stripPrefix: false
    schools: # schools and campus
      path: /schools/**
#      url: http://localhost:6767/
      serviceId: cas-schools
      stripPrefix: false
    dicts: # dicts and sys-dicts
      path: /dicts/**
#      url: http://localhost:6767/
      serviceId: cas-dicts
      stripPrefix: false
    users: # user role group
      path: /users/**
#      url: http://localhost:6767/
      serviceId: cas-users
      stripPrefix: false
    roles:
      path: /roles/**
#      url: http://localhost:6767/
      serviceId: cas-roles
      stripPrefix: false
    classes: # class and arrangement
      path: /classes/**
      serviceId: cas-classes
      stripPrefix: false
    courses:
      path: /courses/**
      serviceId: cas-courses
      stripPrefix: false
    todos:
      path: /todos/**
      serviceId: cas-todos
      stripPrefix: false
    announcements:
      path: /announcements/**
      serviceId: cas-announcements
      stripPrefix: false
    payments:
      path: /payments/**
      serviceId: cas-payments
      stripPrefix: false
    logs: # audit log, operation log, payment log etc.
      path: /payments/**
      serviceId: cas-payments
      stripPrefix: false
    assets:
      path: /assets/**
#      url: http://localhost:6767/
      serviceId: cas-assets
      stripPrefix: false
  prefix: /api
  whitelist: /health_check,/uua/v*/login,/uua/v*/baseinfo,/uua/v*/oauth/token,/uua/v*/oauth/authorize,/uua/v*/oauth/confirm_access

security:
  oauth2:
    client:
      accessTokenUri: http://10.16.156.36:9191/uua/v1/oauth/token
      userAuthorizationUri: http://10.16.156.36:9191/uua/v1/oauth/authorize
      clientId: base_course_app
      clientSecret: secret
      client-authentication-scheme: header
    resource:
      userInfoUri: http://10.16.156.36:9191/uua/v1/user
#      preferTokenInfo: false
      filter-order: 3
#  sessions: ALWAYS